<html>

<head>
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
</head>

<body>
<span th:text="'hello ' + ${currentUser}"></span>
<br/>
<td>
    <div th:if="${eliminationManager.gameIsOngoing() && !currentUser.isEliminated()}">
        <span th:text="'Your current target is ' + ${currentUser.getTarget()}"/>
        <br/>
        <span th:text="'Your elimination code is ' + ${currentUser.getEliminationCode()}"/>
        <form action="/game/eliminate" method="get">
            <input type="text" name="code" placeholder="enter elimination code"/>
            <input type="submit" value="eliminate"/>
        </form>
    </div>
    <h1 th:if="${currentUser.isEliminated()}" th:text="'you have been eliminated by ' + ${currentUser.getEliminatedBy()}"></h1>
    <h1 th:if="${currentUser.isWinner()}" th:text="'you won!!'"></h1>
    <div th:unless="${eliminationManager.gameIsOngoing()}">
        <span th:if="${eliminationManager.gameHasEnded()}" th:text="'Game over'"></span>
        <span th:unless="${eliminationManager.gameHasEnded()}" th:text="'Game not ongoing'"></span>

    </div>
</td>



<td th:if="${roles.contains('ROLE_ADMIN')}">

    <form action="/admin/announcement" method="post">
        <label>
            Title:
            <input type="text" name="title" placeholder="title"/>
        </label>
        <label>
            Body:
            <textarea name="body" placeholder="body"></textarea>
        </label>
        <label>
            Start time (epoch millis):
            <input type="text" name="startTimeEpoch" placeholder="start time"/>
        </label>
        <label>
            End time (epoch millis):
            <input type="text" name="endTimeEpoch" placeholder="end time"/>
        </label>
        <input type="submit" value="post announcement"/>


    </form>
</td>
<hr/>
<h1>Announcements:</h1>
<div th:each="announcement : ${announcements}">
    <h1 th:text="'Title:  ' + ${announcement.getTitle()}"></h1>
    <h3 th:text="'Published:  ' + ${announcement.getStartDate()}"></h3>
    <md-block th:text="${announcement.getBody()}"></md-block>
    <hr/>
</div>
<hr/>
<iframe src="game/scoreboard" width="100%" height="100%" frameborder="0"></iframe>
</body></html>